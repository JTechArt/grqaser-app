# Implementation Readiness: Story 6.4

**See also:** [Implementation readiness for all stories](./implementation-readiness-all-stories.md).

**Story:** 6.4 — Data management: view and edit  
**Checked by:** Architect (Winston)  
**Date:** 2025-02-16

## Verdict: **READY**

The story is implementation-ready for the Dev agent. Architecture defines data view from active DB and edit (PATCH/PUT, in-place UPDATE, optional last_edited_at); schema and validation rules are documented.

---

## 1. Architecture and reference integrity

| Check | Status | Notes |
|-------|--------|--------|
| All cited architecture docs exist | ✅ | books-admin-app-architecture, data-models-and-schema, database-viewer-api, crawler-pipeline (validation), epic-6, testing-and-deployment-strategy |
| Dev Notes match architecture content | ✅ | View from active DB; PATCH/PUT books/:id; UPDATE by id; optional last_edited_at; validation per schema/crawler rules |
| Source references accurate | ✅ | `[Source: docs/architecture/...]` and story refs point to real sections |
| Phase scope correct | ✅ | Builds on 6.1 (viewer in app) and 6.2 (active DB); writers: crawler + manual edits |

---

## 2. File and project structure

| Check | Status | Notes |
|-------|--------|--------|
| Implementation location | ✅ | Within `books-admin-app/`: update route and model for books (write to active DB); UI edit form in public/ |
| Schema (books) | ✅ | data-models-and-schema defines books columns; optional last_edited_at added in architecture for Epic 6 |
| API | ✅ | Existing GET books; new PATCH or PUT /api/v1/books/:id per books-admin-app-architecture |

---

## 3. Acceptance criteria and tasks

| AC | Covered by tasks | Notes |
|----|------------------|--------|
| AC1: Data view from active DB (list, detail, search, filters) | Task 1 | Reuse/extend books/stats API and UI; ensure read from active path only |
| AC2: Edit any field and persist to active DB | Task 2 | Update API; in-place UPDATE; validation; UI edit form and save |
| AC3: In-place UPDATE; no duplicates; UI reflects update | Task 3 | UPDATE by id only; refresh or optimistic update |
| AC4: Manual edits distinguishable (e.g. last_edited_at); local-only | Task 4 | Optional column; document in schema/migration; no auth |

---

## 4. Technical constraints

- Writer: crawler and manual edits; both write to active DB. UPDATE by id only; no duplicate records. Validation (required fields, URL format) per crawler validation where applicable. Optional last_edited_at in data-models-and-schema — [books-admin-app-architecture.md](../architecture/books-admin-app-architecture.md), [data-models-and-schema.md](../architecture/data-models-and-schema.md), [crawler-pipeline-and-data-contract.md](../architecture/crawler-pipeline-and-data-contract.md).

---

## 5. Summary

- **Implementation readiness:** **GO** — Story 6.4 is ready for the Dev agent.  
- **Dependency:** Stories 6.1 (books-admin-app, viewer) and 6.2 (active DB; data view and edits use active path).  
- **No blocking gaps.** Schema and API extensions documented.
