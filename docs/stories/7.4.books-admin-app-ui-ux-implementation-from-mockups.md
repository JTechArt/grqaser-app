# Story 7.4: Books-admin-app UI/UX implementation from mockups

## Status

Done

## Story

**As an** operator,  
**I want** the books-admin-app web UI to match the design system and mockups in `docs/design/books-admin-app/`,  
**so that** the admin experience is consistent, clear, and aligned with the defined layout and patterns.

## Acceptance Criteria

1. Books-admin-app (layout, navigation, colors, typography, components) **matches or aligns with** the mockups in `docs/design/books-admin-app/` and the design system in `docs/design/README.md`.
2. Navigation and layout are consistent: sidebar (or equivalent), same sections (Dashboard, Books, Crawler, Databases); visual and interaction patterns (buttons, forms, cards) follow the design system.
3. No regression in existing behavior; key actions (start/stop crawler, set active DB, edit book) remain easy to find and use.
4. Optional: accessibility and keyboard use improved where low-effort.

## Tasks / Subtasks

- [x] Task 1: Apply design system to books-admin-app (AC: 1)
  - [x] Align colors with design system: slate background/text, teal accent (buttons, links, active nav), Plus Jakarta Sans typography, documented radii ([Source: docs/design/README.md], [Source: docs/architecture/books-admin-app-architecture.md]).
  - [x] Update or add CSS (e.g. in `books-admin-app/public/`) to use design tokens or equivalent (background, surface, border, text, accent); ensure layout and components match or align with mockups in `docs/design/books-admin-app/`.
- [x] Task 2: Navigation and layout (AC: 2)
  - [x] Implement or update sidebar (or equivalent) with same sections as mockups: Dashboard, Books, Crawler, Databases; active state and links consistent with design system ([Source: docs/design/books-admin-app/], [Source: docs/architecture/source-tree.md]).
  - [x] Ensure visual and interaction patterns (buttons, forms, cards) follow design system; reference mockups for structure and styling.
- [x] Task 3: No regression; key actions (AC: 3)
  - [x] Verify start/stop crawler, set active DB, and edit book flows still work and are easy to find ([Source: docs/architecture/books-admin-app-architecture.md]).
  - [x] Run existing books-admin-app tests; manual smoke test of crawler control, DB versioning, and data edit.
- [x] Task 4: Optional accessibility (AC: 4)
  - [x] Where low-effort: improve keyboard navigation and accessibility (focus order, labels, contrast) per design system and mockups.

## Dev Notes

### Prerequisites

- Story 7.3 (design system and mockups) must be complete so that `docs/design/README.md` and `docs/design/books-admin-app/` mockups exist ([Source: docs/prd/epic-7.md]).

### Design system reference

- **Colors:** Slate + teal (see `docs/design/README.md`). Background, surface, border, text, accent, accent hover/light ([Source: docs/architecture/source-tree.md]).
- **Typography:** Plus Jakarta Sans ([Source: docs/architecture/books-admin-app-architecture.md]).
- **Layout:** Sidebar navigation; sections Dashboard, Books, Crawler, Databases; book detail/edit as in mockups ([Source: docs/architecture/source-tree.md]).

### File locations

- **Web UI:** `books-admin-app/public/` — HTML, CSS, and client-side JS ([Source: docs/architecture/books-admin-app-architecture.md], [Source: docs/architecture/source-tree.md]).
- **Mockup reference:** `docs/design/books-admin-app/` (dashboard, books, crawler, databases, book-detail) and `docs/design/README.md`.

### Technical constraints

- No change to API or data contract; UI-only updates. Existing behavior (crawler start/stop, DB versioning, book edit) must remain ([Source: docs/architecture/delivery-order-and-application-boundaries.md]).
- Vanilla JS/HTML/CSS per tech stack ([Source: docs/architecture/tech-stack.md]).

### Testing

- Existing books-admin-app tests must pass. Manual verification: layout and navigation match mockups; key actions (start/stop crawler, set active DB, edit book) work ([Source: docs/architecture/testing-and-deployment-strategy.md]).

## Change Log

| Date       | Version | Description                    | Author       |
|-----------|---------|--------------------------------|--------------|
| 2025-02-17 | 1.0     | Story created from Epic 7      | Scrum Master |
| 2025-02-17 | 1.1     | UI aligned to design system; all tests pass | Dev Agent   |

## Dev Agent Record

### Agent Model Used

Auto (Cursor)

### Debug Log References

- `npm test` in books-admin-app: 8 suites, 42 tests passed (with network permission for server bind).

### Completion Notes List

- **Task 1:** Applied design system in `books-admin-app/public/index.html`: CSS variables aligned to docs/design (--bg-app, --bg-sidebar, --bg-card, --text-subtle, --shadow-sm); Plus Jakarta Sans; all hardcoded colors replaced with tokens (--text-muted, --accent, --border-muted, etc.) in both static CSS and JS-rendered HTML (book list, book detail modal, databases list, crawler state).
- **Task 2:** Added page titles (Dashboard, Books, Crawler, Databases) to match mockups; sidebar already had Dashboard, Books, Crawler, Databases with active state; controls headings aligned (Filters, Control & status, Versioning); buttons, forms, cards use design tokens and radii.
- **Task 3:** All 42 books-admin-app tests pass. No API or behavior changes; crawler start/stop, set active DB, edit book flows unchanged and easy to find in sidebar and main content.
- **Task 4:** Nav has aria-label and aria-current; modal has role="dialog", aria-modal, aria-labelledby; close control is a button with aria-label; focus moved to close button when modal opens; .close:focus outline for keyboard visibility.

### File List

- `books-admin-app/public/index.html` (modified)
- `docs/stories/7.4.books-admin-app-ui-ux-implementation-from-mockups.md` (modified)

## QA Results

### Review Date: 2025-02-17

### Reviewed By: Quinn (Test Architect)

### Code Quality Assessment

**AC1:** books-admin-app `public/index.html` uses the design system: CSS variables match `docs/design/README.md` (--bg-app #f8fafc, --text #0f172a, --accent #0d9488, --accent-hover, --accent-light, --border, --radius 12px, --radius-sm 8px); Plus Jakarta Sans via Google Fonts; cards, buttons, and forms use tokens. Layout and components align with mockups in `docs/design/books-admin-app/`. **AC2:** Sidebar (nav-tabs) has Dashboard, Books, Crawler, Databases; active state uses accent color and accent-light background; page titles (Dashboard, Books, Crawler, Databases) and control headings (Filters, Crawler config, Versioning) match mockups; buttons and forms use design tokens. **AC3:** All 42 books-admin-app tests pass. No API or behavior change; crawler start/stop, set active DB, and edit book flows remain in place and reachable from sidebar and main content. **AC4:** Nav has `role="navigation"` and `aria-label="Main navigation"`; active tab has `aria-current="page"`; book detail modal has `role="dialog"`, `aria-modal="true"`, `aria-labelledby="modalTitle"`; close button has `aria-label="Close modal"`; focus moves to close button when modal opens; `.close:focus` outline for keyboard visibility.

### Refactoring Performed

None.

### Compliance Check

- Coding Standards: ✓ Design tokens and structure align with docs/design
- Project Structure: ✓ UI in books-admin-app/public/ per source-tree
- Testing Strategy: ✓ Existing tests pass; manual verification per story
- All ACs Met: ✓

### Improvements Checklist

- [x] Design system colors, typography, radii applied
- [x] Sidebar and sections match mockups (Dashboard, Books, Crawler, Databases)
- [x] No regression; key actions (crawler, DB, edit book) work
- [x] Optional a11y: aria, focus order, keyboard-visible focus

### Security Review

N/A (UI-only; no auth or API change).

### Performance Considerations

N/A.

### Files Modified During Review

None.

### Gate Status

Gate: PASS → docs/qa/gates/7.4-books-admin-app-ui-ux-implementation-from-mockups.yml

### Recommended Status

✓ Ready for Done
